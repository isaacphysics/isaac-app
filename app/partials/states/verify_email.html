<div class='small-16 columns' ng-controller="ResetPasswordPageController">
	<h2>Email Address Verification</h2>
	<div class="panel white clearfix verificationContainer">

    <h2 ng-if="verificationState==verificationStates.FAILED" class="icon-x ru_red verification_icon_large"></h2>
    <h2 ng-if="verificationState==verificationStates.SUCCESS" class="icon-check ru_green verification_icon_large"></h2>
    <img ng-if="verificationState==verificationStates.CAN_REQUEST || verificationState==verificationStates.IN_PROGRESS" src="assets/icon-mailto.png"/> 

    <h3 class="subheader">{{message}}</h3>

    <span ng-if="verificationState != verificationStates.SUCCESS">
      <span ng-if="!isUserLoggedIn">
        <h4>Please <a href='/login?target={{returnUrlPath}}'>login</a> to resend the verification email.</h4>
      </span>

      <span ng-if="isUserLoggedIn">
        <span ng-if="!currentEmailIsVerified">
          <a class="button" ng-class="{'disabled': verificationState==verificationStates.IN_PROGRESS}" ng-click="requestFurtherVerification()">Resend verification email</a>
        </span>
        <span>
          <a class="button" href="/account">Change your email address</a>
        </span>
        <h4 ng-if="verificationState==verificationStates.IN_PROGRESS">
          A verification email has been sent to "{{userEmail}}".
        </h4>
      </span>
    </span>
    <span ng-if="verificationState == verificationStates.SUCCESS && idsDontMatch">
      <h4><img src="/assets/warning.png" alt="!" class="beta-warning">Warning: You are not logged in as the user you verified.<img src="/assets/warning.png" alt="!" class="beta-warning"></h4>
    </span>

    <span ng-if="!isUserLoggedIn"><h4><a href='/login'>Login to Isaac</a></h4></span>
    <span ng-if="isUserLoggedIn"><h4><a href='/'>Continue to Isaac</a></h4></span>

  </div>
</div>
