<div desktop-panel>
    <h1>Isaac Administration</h1>
</div>
<div mobile-panel>
    <h1>Isaac Administration</h1>
</div>

<div class="row">
    <div class="medium-5 columns text-right">
        <h4>Helpful links</h4>
    </div>
    <div class="medium-7 columns end">
        <ul class="no-bullet">
            <li><a ui-sref="gameEditor">Game board Editor</a></li>
            <li><a href="/api/content/units" target="_blank">List of units</a></li>
        </ul>
    </div>
</div>

<div class="row">
    <div class="medium-5 columns text-right">
       <label for="content-version">
            <h4>Content Version</h4>
        </label>
    </div>
	<form ng-submit="setVersion()">
        <div class="medium-7 columns end">
            <input id="content-version" type="text" ng-model="contentVersion.liveVersion" placeholder="Enter commit SHA" ng-change="versionChange = null">
        </div>
        <div class="medium-4 columns end" ng-if="versionChange != 'IN_PROGRESS'">
            <button ng-click="setVersion()">Set Version</button>
        </div>
    </form>
</div>
<div class="row" ng-if="versionChange == 'IN_PROGRESS'">
    <div class="medium-16 columns text-center">
    	<h4>Updating...</h4>
    	<img src="/assets/loading.gif">
	</div>
</div>
<div class="row" ng-if="versionChange == 'SUCCESS'">
    <div class="medium-16 columns text-center">
    	<h4>Content version changed successfully.</h4>
	</div>
</div>
<div class="row" ng-if="versionChange == 'ERROR'">
    <div class="medium-16 columns text-center">
    	<h4 style="color:#a00;">Error: Content version could not be changed.</h4>
	</div>
</div>

<div class="row">
    <div class="medium-5 columns text-right">
       <label for="user-search">
            <h4>User Management</h4>
        </label>
    </div>
    <form ng-submit="findUsers()">
        <div class="medium-7 columns end">
            <input id="user-search" type="text" ng-model="userSearch.searchTerms" placeholder="Enter user email" >
        </div>
        <div class="medium-4 columns end">
            <button ng-click="findUsers()">Find user</button>
        </div>        
    </form>
</div>

<!-- Results TODO: stolen from search page this needs tidying up -->
<section ng-if="userSearch.hasSearched">
    <div class="row">
        <div class="small-16 columns">
            <h4>User search results</h4>
            <div class="ru-concept-results">
                <div ng-repeat="result in userSearch.results" class='row ru-mobile-answer-wrap' class="physics">
                    <div class='small-16 columns'>
                        <div ng-class="{'ru-search-result': true, odd: $odd, even: $even}">
                            <div ui-sref="accountSettings({'userId' : result._id })" class="ru-search-result-content">
                                <img class="right show-for-small-only" src="/assets/isaac-index-arrow.png">
                                <h4>
                                    <span class="physics" >{{result.familyName}}, {{result.givenName}}, {{result.email}} Role: {{result.role || "NOT_SET"}}</span></h4>
                                </h4>
                            </div>
                            <a href="javascript:void(0);" class="right" ng-click="deleteUser(result._id)">Delete user</a>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
